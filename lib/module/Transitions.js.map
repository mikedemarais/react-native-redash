{"version":3,"sources":["Transitions.ts"],"names":["Animated","Easing","State","useMemoOne","bin","Value","cond","eq","block","set","Clock","spring","startClock","timing","neq","useCode","withTimingTransition","value","timingConfig","gestureState","UNDETERMINED","clock","state","finished","frameTime","position","time","config","toValue","duration","easing","linear","ACTIVE","withSpringTransition","springConfig","velocity","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","useTimingTransition","transition","useSpringTransition"],"mappings":"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","sourcesContent":["import Animated, { Easing } from \"react-native-reanimated\";\nimport { State } from \"react-native-gesture-handler\";\nimport { useMemoOne } from \"use-memo-one\";\n\nimport { bin } from \"./Math\";\nimport { TimingConfig, SpringConfig } from \"./Animations\";\n\nconst {\n  Value,\n  cond,\n  eq,\n  block,\n  set,\n  Clock,\n  spring,\n  startClock,\n  timing,\n  neq,\n  useCode\n} = Animated;\n\nexport const withTimingTransition = (\n  value: Animated.Value<number>,\n  timingConfig: TimingConfig = {},\n  gestureState: Animated.Value<State> = new Value(State.UNDETERMINED)\n) => {\n  const clock = new Clock();\n  const state = {\n    finished: new Value(0),\n    frameTime: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n  const config = {\n    toValue: new Value(0),\n    duration: 250,\n    easing: Easing.linear,\n    ...timingConfig\n  };\n  return block([\n    startClock(clock),\n    cond(neq(config.toValue, value), [\n      set(state.frameTime, 0),\n      set(state.time, 0),\n      set(state.finished, 0),\n      set(config.toValue, value)\n    ]),\n    cond(\n      eq(gestureState, State.ACTIVE),\n      [set(state.position, value)],\n      timing(clock, state, config)\n    ),\n    state.position\n  ]);\n};\n\nexport const withSpringTransition = (\n  value: Animated.Value<number>,\n  springConfig: SpringConfig = {},\n  velocity: Animated.Adaptable<number> = 0,\n  gestureState: Animated.Value<State> = new Value(State.UNDETERMINED)\n) => {\n  const clock = new Clock();\n  const state = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n  const config = {\n    toValue: new Value(0),\n    damping: 15,\n    mass: 1,\n    stiffness: 150,\n    overshootClamping: false,\n    restSpeedThreshold: 1,\n    restDisplacementThreshold: 1,\n    ...springConfig\n  };\n  return block([\n    startClock(clock),\n    set(config.toValue, value),\n    cond(\n      eq(gestureState, State.ACTIVE),\n      [set(state.velocity, velocity), set(state.position, value)],\n      spring(clock, state, config)\n    ),\n    state.position\n  ]);\n};\n\nexport const useTimingTransition = (\n  state: boolean,\n  config: TimingConfig = {}\n) => {\n  const value = useMemoOne(() => new Value(0), []);\n  useCode(set(value, bin(state)), [state]);\n  const transition = useMemoOne(() => withTimingTransition(value, config), []);\n  return transition;\n};\n\nexport const useSpringTransition = (\n  state: boolean,\n  config: SpringConfig = {}\n) => {\n  const value = useMemoOne(() => new Value(0), []);\n  useCode(set(value, bin(state)), [state]);\n  const transition = useMemoOne(() => withSpringTransition(value, config), []);\n  return transition;\n};\n"]}