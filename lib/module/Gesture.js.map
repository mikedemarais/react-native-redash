{"version":3,"sources":["Gesture.ts"],"names":["Animated","State","snapPoint","Clock","Value","event","add","block","cond","divide","eq","multiply","set","stopClock","and","not","clockRunning","startClock","neq","call","reDecay","decay","reSpring","spring","withOffset","value","state","offset","END","withSpring","props","velocity","snapPoints","springConfig","config","onSnap","clock","springState","finished","position","time","toValue","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","gestureAndAnimationIsOver","isSpringInterrupted","BEGAN","finishSpring","snap","withDecay","deceleration","decayState","isDecayInterrupted","finishDecay","preserveMultiplicativeOffset","previous","onScroll","contentOffset","nativeEvent","onGestureEvent","gestureEvent","onHandlerStateChange","panGestureHandler","x","translationX","velocityX","y","translationY","velocityY","UNDETERMINED","gestureHandler","horizontalPanGestureHandler","verticalPanGestureHandler"],"mappings":"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","sourcesContent":["import Animated from \"react-native-reanimated\";\nimport {\n  FlingGestureHandlerEventExtra,\n  ForceTouchGestureHandlerEventExtra,\n  GestureHandlerStateChangeNativeEvent,\n  LongPressGestureHandlerEventExtra,\n  PanGestureHandlerEventExtra,\n  PinchGestureHandlerEventExtra,\n  RotationGestureHandlerEventExtra,\n  State,\n  TapGestureHandlerEventExtra\n} from \"react-native-gesture-handler\";\n\nimport { snapPoint } from \"./Animations\";\n\nconst {\n  Clock,\n  Value,\n  event,\n  add,\n  block,\n  cond,\n  divide,\n  eq,\n  multiply,\n  set,\n  stopClock,\n  and,\n  not,\n  clockRunning,\n  startClock,\n  neq,\n  call,\n  decay: reDecay,\n  spring: reSpring\n} = Animated;\n\nexport const withOffset = (\n  value: Animated.Node<number>,\n  state: Animated.Value<State>,\n  offset: Animated.Value<number> = new Value(0)\n) =>\n  cond(\n    eq(state, State.END),\n    [set(offset, add(offset, value)), offset],\n    add(offset, value)\n  );\n\ninterface PrivateSpringConfig extends Animated.SpringConfig {\n  toValue: Animated.Value<number>;\n}\n\ntype SpringConfig = Omit<Animated.SpringConfig, \"toValue\">;\n\nexport interface WithSpringParams {\n  value: Animated.Adaptable<number>;\n  velocity: Animated.Adaptable<number>;\n  state: Animated.Value<State>;\n  snapPoints: Animated.Adaptable<number>[];\n  offset?: Animated.Value<number>;\n  config?: SpringConfig;\n  onSnap?: (value: readonly number[]) => void;\n}\n\nexport const withSpring = (props: WithSpringParams) => {\n  const {\n    value,\n    velocity,\n    state,\n    snapPoints,\n    offset,\n    config: springConfig,\n    onSnap\n  } = {\n    offset: new Value(0),\n    ...props\n  };\n  const clock = new Clock();\n  const springState: Animated.SpringState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n\n  const config: PrivateSpringConfig = {\n    toValue: new Value(0),\n    damping: 6,\n    mass: 1,\n    stiffness: 64,\n    overshootClamping: false,\n    restSpeedThreshold: 0.01,\n    restDisplacementThreshold: 0.01,\n    ...springConfig\n  };\n\n  const gestureAndAnimationIsOver = new Value(1);\n  const isSpringInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  const finishSpring = [\n    set(offset, springState.position),\n    stopClock(clock),\n    set(gestureAndAnimationIsOver, 1)\n  ];\n  const snap = onSnap\n    ? [cond(clockRunning(clock), call([springState.position], onSnap))]\n    : [];\n  return block([\n    cond(isSpringInterrupted, finishSpring),\n    cond(gestureAndAnimationIsOver, set(springState.position, offset)),\n    cond(neq(state, State.END), [\n      set(gestureAndAnimationIsOver, 0),\n      set(springState.finished, 0),\n      set(springState.position, add(offset, value))\n    ]),\n    cond(and(eq(state, State.END), not(gestureAndAnimationIsOver)), [\n      cond(and(not(clockRunning(clock)), not(springState.finished)), [\n        set(springState.velocity, velocity),\n        set(springState.time, 0),\n        set(\n          config.toValue,\n          snapPoint(springState.position, velocity, snapPoints)\n        ),\n        startClock(clock)\n      ]),\n      reSpring(clock, springState, config),\n      cond(springState.finished, [...snap, ...finishSpring])\n    ]),\n    springState.position\n  ]);\n};\n\ninterface WithDecayParams {\n  value: Animated.Adaptable<number>;\n  velocity: Animated.Adaptable<number>;\n  state: Animated.Value<State>;\n  offset?: Animated.Value<number>;\n  deceleration?: number;\n}\n\nexport const withDecay = (config: WithDecayParams) => {\n  const { value, velocity, state, offset, deceleration } = {\n    offset: new Value(0),\n    deceleration: 0.998,\n    ...config\n  };\n  const clock = new Clock();\n  const decayState = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0)\n  };\n\n  const isDecayInterrupted = and(eq(state, State.BEGAN), clockRunning(clock));\n  const finishDecay = [set(offset, decayState.position), stopClock(clock)];\n\n  return block([\n    cond(isDecayInterrupted, finishDecay),\n    cond(neq(state, State.END), [\n      set(decayState.finished, 0),\n      set(decayState.position, add(offset, value))\n    ]),\n    cond(eq(state, State.END), [\n      cond(and(not(clockRunning(clock)), not(decayState.finished)), [\n        set(decayState.velocity, velocity),\n        set(decayState.time, 0),\n        startClock(clock)\n      ]),\n      reDecay(clock, decayState, { deceleration }),\n      cond(decayState.finished, finishDecay)\n    ]),\n    decayState.position\n  ]);\n};\n\nexport const preserveMultiplicativeOffset = (\n  value: Animated.Adaptable<number>,\n  state: Animated.Adaptable<number>\n) => {\n  const previous = new Animated.Value(1);\n  const offset = new Animated.Value(1);\n\n  return block([\n    cond(\n      eq(state, State.BEGAN),\n      [set(previous, 1)],\n      [\n        set(offset, multiply(offset, divide(value, previous))),\n        set(previous, value)\n      ]\n    ),\n    offset\n  ]);\n};\n\nexport const onScroll = (contentOffset: {\n  x?: Animated.Node<number>;\n  y?: Animated.Node<number>;\n}) =>\n  event([\n    {\n      nativeEvent: {\n        contentOffset\n      }\n    }\n  ]);\n\ntype NativeEvent = GestureHandlerStateChangeNativeEvent &\n  (\n    | PanGestureHandlerEventExtra\n    | TapGestureHandlerEventExtra\n    | LongPressGestureHandlerEventExtra\n    | RotationGestureHandlerEventExtra\n    | FlingGestureHandlerEventExtra\n    | PinchGestureHandlerEventExtra\n    | ForceTouchGestureHandlerEventExtra);\n\ntype Adaptable<T> = { [P in keyof T]: Animated.Adaptable<T[P]> };\n\nexport const onGestureEvent = (\n  nativeEvent: Partial<Adaptable<NativeEvent>>\n) => {\n  const gestureEvent = event([{ nativeEvent }]);\n  return {\n    onHandlerStateChange: gestureEvent,\n    onGestureEvent: gestureEvent\n  };\n};\n\nexport const panGestureHandler = () => {\n  const x = new Value(0);\n  const translationX = new Value(0);\n  const velocityX = new Value(0);\n  const y = new Value(0);\n  const translationY = new Value(0);\n  const velocityY = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    x,\n    translationX,\n    velocityX,\n    y,\n    translationY,\n    velocityY,\n    state\n  });\n  return {\n    x,\n    translationX,\n    velocityX,\n    y,\n    translationY,\n    velocityY,\n    state,\n    gestureHandler\n  };\n};\n\nexport const horizontalPanGestureHandler = () => {\n  const x = new Value(0);\n  const translationX = new Value(0);\n  const velocityX = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    translationX,\n    velocityX,\n    state\n  });\n  return {\n    x,\n    translationX,\n    state,\n    velocityX,\n    gestureHandler\n  };\n};\n\nexport const verticalPanGestureHandler = () => {\n  const y = new Value(0);\n  const translationY = new Value(0);\n  const velocityY = new Value(0);\n  const state = new Value(State.UNDETERMINED);\n  const gestureHandler = onGestureEvent({\n    y,\n    translationY,\n    velocityY,\n    state\n  });\n  return {\n    y,\n    translationY,\n    state,\n    velocityY,\n    gestureHandler\n  };\n};\n"]}